---
import LayoutWithLinks from "@/layouts/LayoutWithLinks.astro";

const title = "work";
const description = "A collecition of projects I have worked on in the past or am currently working on.";
---

<LayoutWithLinks title={title} description={description}>
  <div class="max-w-prose flex flex-col space-y-8">
    <div class="space-y-2">
      <h3 class="font-bold">Projects</h3>
      <p class="pb-4">Projects that I created or that I am currently working on.</p>
      <div class="pl-4">
        <div class="flex flex-col space-y-2 divide-divider-light dark:divide-divider-dark">
          <div class="relative hover:text-hover-light dark:hover:text-hover-dark">
            <a href="https://unitootor.com/" target="_blank" class="flex justify-between tooltip-link">
              <span class="tooltip-trigger">Unitootor</span>
              <span class="text-secondary-light dark:text-secondary-dark">creator, maintainer</span>
            </a>
            <div class="tooltip hidden absolute text-sm py-2 px-3 bg-white text-[#67686D] rounded shadow w-64 opacity-95 z-50 pointer-events-none">
              <div class="flex flex-col">
                <p class="mb-2">
                  This is a webapp that lets students upload their lecture pdfs and generate a learning plan based on the content of the pdfs.
                  It's work in progress and I'm currently testing the MVP with users.
                </p>
                <span class="text-xs flex flex-wrap gap-2 mb-2">
                  <p>Nuxt</p>
                  <p>FastAPI</p>
                </span>
                <a href="https://unitootor.com/" target="_blank" class="see-more-btn px-4 py-1 hidden w-full text-center border border-gray-300 rounded hover:bg-gray-100">
                  go to website
                </a>
              </div>
            </div>
          </div>
          <hr>
          <div class="relative hover:text-hover-light dark:hover:text-hover-dark">
            <a href="https://github.com/jandorn/jandorn.com/" target="_blank" class="flex justify-between tooltip-link">
              <span class="tooltip-trigger">Personal Website</span>
              <span class="text-secondary-light dark:text-secondary-dark">creator, maintainer</span>
            </a>
            <div class="tooltip hidden absolute text-sm py-2 px-3 bg-white text-[#67686D] rounded shadow w-64 opacity-95 z-50 pointer-events-none">
              <div class="flex flex-col">
                <p class="mb-2">
                  Built my personal website in the end of 2023. First time I came in contact with Astro and I'm loving it since.
                </p>
                <span class="text-xs flex flex-wrap gap-2 mb-2">
                  <p>Astro</p>
                </span>
                <a href="https://github.com/jandorn/jandorn.com/" target="_blank" class="see-more-btn px-4 py-1 hidden w-full text-center border border-gray-300 rounded hover:bg-gray-100">
                  see github repo
                </a>
              </div>
            </div>
          </div>
          <hr>
          <div class="relative hover:text-hover-light dark:hover:text-hover-dark">
            <a href="https://energyleaf.de" target="_blank" class="flex justify-between tooltip-link">
              <span class="tooltip-trigger">Energyleaf</span>
              <span class="text-secondary-light dark:text-secondary-dark">creator</span>
            </a>
            <div class="tooltip hidden absolute text-sm py-2 px-3 bg-white text-[#67686D] rounded shadow w-64 opacity-95 z-50 pointer-events-none">
              <div class="flex flex-col">
                <p class="mb-2">
                  This project entailed building and installing sensors in private households to measure the energy consumption over time.
                  The data was then analyzed and visualized in a web app.
                  I also wrote my bachelor thesis about this project.
                </p>
                <span class="text-xs flex flex-wrap gap-2 mb-2">
                  <p>Vue</p>
                  <p>Flask</p>
                  <p>MySQL</p>
                </span>
                <a href="https://energyleaf.de" target="_blank" class="see-more-btn px-4 py-1 hidden w-full text-center border border-gray-300 rounded hover:bg-gray-100">
                  go to website
                </a>
              </div>
            </div>
          </div>
          <hr>
          <div class="relative hover:text-hover-light dark:hover:text-hover-dark">
            <a href="https://hop.fzi.de/taxonomy/" target="_blank" class="flex justify-between tooltip-link">
              <span class="tooltip-trigger">Taxonomy</span>
              <span class="text-secondary-light dark:text-secondary-dark">creator</span>
            </a>
            <div class="tooltip hidden absolute text-sm py-2 px-3 bg-white text-[#67686D] rounded shadow w-64 opacity-95 z-50 pointer-events-none">
              <div class="flex flex-col">
                <p class="mb-2">
                  During my internship at the FZI as a software developer,
                  I created a web app to help create and visualize the taxonomy of an internal research project.
                </p>
                <span class="text-xs flex flex-wrap gap-3 mb-2">
                  <p>Vue</p>
                  <p>FastAPI</p>
                  <p>MongoDB</p>
                </span>
                <a href="https://hop.fzi.de/taxonomy/" target="_blank" class="see-more-btn px-4 py-1 hidden w-full text-center border border-gray-300 rounded hover:bg-gray-100">
                  go to website
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="space-y-2">
      <h3 class="font-bold">Micros</h3>
      <p class="pb-4">Fun and interesting little projects. Not necessarily useful.</p>
      <div class="pl-4">
        <div class="flex flex-col space-y-2 divide-divider-light dark:divide-divider-dark">
          <div class="relative hover:text-hover-light dark:hover:text-hover-dark">
            <a href="https://github.com/jandorn/ATTiny-Counter" target="_blank" class="flex justify-between tooltip-link">
              <span class="tooltip-trigger">Freeform counter</span>
              <span class="text-secondary-light dark:text-secondary-dark">creator</span>
            </a>
            <div class="tooltip hidden absolute text-sm py-2 px-3 bg-white text-[#67686D] rounded shadow w-64 opacity-95 z-50 pointer-events-none">
              <div class="flex flex-col">
                <p class="mb-2">
                  2020 I built a freeform circuit with a 4-digit 7-segment display that counts up when a button is pressed.
                  I built this as a christmas present for my dad to help him stop smoking. 1 day without smoking = 1 press of the button.
                  This project is powered by an ATTiny85. For more information, check out the GitHub repo.
                </p>
                <a href="https://github.com/jandorn/ATTiny-Counter" target="_blank" class="see-more-btn px-4 py-1 hidden w-full text-center border border-gray-300 rounded hover:bg-gray-100">
                  see github repo
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="space-y-2">
      <h3 class="font-bold">Hackathons</h3>
      <p class="pb-4">Projects created during hackathons.</p>
      <div class="pl-4">
        <div class="flex flex-col space-y-2 divide-divider-light dark:divide-divider-dark">
          <div class="relative hover:text-hover-light dark:hover:text-hover-dark">
            <a href="https://www.linkedin.com/posts/yoandicosmo_1st-place-at-the-tech-europe-paris-activity-7333076201550266368-aPMb" target="_blank" class="flex justify-between tooltip-link space-x-2">
              <span class="tooltip-trigger">ðŸ¥‡ 1st place &#123;Tech: Europe&#125; Paris Hackathon</span>
              <span class="text-secondary-light dark:text-secondary-dark whitespace-nowrap">Mar 25</span>
            </a>
            <div class="tooltip hidden absolute text-sm py-2 px-3 bg-white text-[#67686D] rounded shadow w-64 opacity-95 z-50 pointer-events-none">
              <div class="flex flex-col">
                <p class="mb-2">
                  At the &#123;Tech: Europe&#125; Paris Hackathon, we built Pamel.ai, an AI-powered yoga coach that gives real-time posture correction and vocal feedback as you follow any yoga video.
                </p>
                <a href="https://www.linkedin.com/posts/yoandicosmo_1st-place-at-the-tech-europe-paris-activity-7333076201550266368-aPMb" target="_blank" class="see-more-btn px-4 py-1 hidden w-full text-center border border-gray-300 rounded hover:bg-gray-100">
                  see linkedin post
                </a>
              </div>
            </div>
          </div>
          <hr>
          <div class="relative hover:text-hover-light dark:hover:text-hover-dark">
            <a href="https://www.linkedin.com/posts/marco-lorenz_1-hackathon-1-party-2-wins-that-ugcPost-7323705980456685568-avBV" target="_blank" class="flex justify-between tooltip-link space-x-2">
              <span class="tooltip-trigger">ðŸ¥ˆ 2nd place TUM.ai Makeathon sponsored by Openai</span>
              <span class="text-secondary-light dark:text-secondary-dark whitespace-nowrap">Apr 25</span>
            </a>
            <div class="tooltip hidden absolute text-sm py-2 px-3 bg-white text-[#67686D] rounded shadow w-64 opacity-95 z-50 pointer-events-none">
              <div class="flex flex-col">
                <p class="mb-2">
                  At the TUM.ai Makeathon 2025, our team built open-i, an AI-powered assistant that helps visually impaired people navigate their environment by chatting with a live video feed and asking questions about past visual input using video memory.
                </p>
                <a href="https://www.linkedin.com/posts/marco-lorenz_1-hackathon-1-party-2-wins-that-ugcPost-7323705980456685568-avBV" target="_blank" class="see-more-btn px-4 py-1 hidden w-full text-center border border-gray-300 rounded hover:bg-gray-100">
                  see linkedin post
                </a>
              </div>
            </div>
          </div>
          <hr>
          <div class="relative hover:text-hover-light dark:hover:text-hover-dark">
            <a href="https://github.com/podolskyDavid/h-genai" target="_blank" class="flex justify-between tooltip-link space-x-2">
              <span class="tooltip-trigger">ðŸ¥ˆ 2nd place H-GenAI Hackthon</span>
              <span class="text-secondary-light dark:text-secondary-dark whitespace-nowrap">Feb 25</span>
            </a>
            <div class="tooltip hidden absolute text-sm py-2 px-3 bg-white text-[#67686D] rounded shadow w-64 opacity-95 z-50 pointer-events-none">
              <div class="flex flex-col">
                <p class="mb-2">
                  AI-powered financial analysis system for French municipalities using OFGL data and LLM Agents. Built with FastAPI, Vue.js, and AWS Bedrock.
                </p>
                <a href="https://github.com/podolskyDavid/h-genai" target="_blank" class="see-more-btn px-4 py-1 hidden w-full text-center border border-gray-300 rounded hover:bg-gray-100">
                  see github repo
                </a>
              </div>
            </div>
          </div>
          <hr>
          <div class="relative hover:text-hover-light dark:hover:text-hover-dark">
            <a href="https://github.com/lusxvr/mistravel-ai" target="_blank" class="flex justify-between tooltip-link space-x-2">
              <span class="tooltip-trigger">ðŸ¥‡ 1st place Mistral & QuantumBlack Gen AI Hackathon</span>
              <span class="text-secondary-light dark:text-secondary-dark whitespace-nowrap">Nov 24</span>
            </a>
            <div class="tooltip hidden absolute text-sm py-2 px-3 bg-white text-[#67686D] rounded shadow w-64 opacity-95 z-50 pointer-events-none">
              <div class="flex flex-col">
                <p class="mb-2">
                  In a team of four, we developed a demo for mistravel.ai, a one-stop-shop GenAI agent that assists you in planning and booking your personalized vacation. 
                  We won the hackathon hosted at l'Ã‰cole Polytechnique in Paris during my exchange semester.
                </p>
                <a href="https://github.com/lusxvr/mistravel-ai" target="_blank" class="see-more-btn px-4 py-1 hidden w-full text-center border border-gray-300 rounded hover:bg-gray-100">
                  see github repo
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</LayoutWithLinks>

<script is:inline>
  function bindTooltipListeners() {
    const tooltipLinks = document.querySelectorAll('.tooltip-link');
    const isMobile = window.innerWidth < 768; // md breakpoint in tailwind

    tooltipLinks.forEach((link) => {
      const trigger = link.querySelector('.tooltip-trigger');
      const tooltip = link.nextElementSibling;
      const seeMoreBtn = tooltip?.querySelector('.see-more-btn');

      if (!trigger || !tooltip) return;

      const updateTooltipPosition = () => {
        const triggerRect = trigger.getBoundingClientRect();
        const tooltipRect = tooltip.getBoundingClientRect();
        const viewportWidth = window.innerWidth;
        const viewportHeight = window.innerHeight;

        // position tooltip to the right of the trigger element
        let left = triggerRect.right + 10;
        // vertically center: move tooltip up by half its height
        let top = triggerRect.top + (triggerRect.height / 2) - (tooltipRect.height / 2);

        // check if tooltip would overflow the right edge
        if (left + tooltipRect.width > viewportWidth) {
          left = triggerRect.left + 20;
        }

        // check if tooltip would overflow the top or bottom edge
        if (top < 0) {
          top = 0;
        } else if (top + tooltipRect.height > viewportHeight) {
          top = viewportHeight - tooltipRect.height;
        }

        // set position relative to viewport
        tooltip.style.position = 'fixed';
        tooltip.style.left = `${left}px`;
        tooltip.style.top = `${top}px`;
      };

      const showTooltip = (e) => {
        if (isMobile) {
          e.preventDefault();
          tooltip.classList.remove('hidden');
          tooltip.classList.remove('pointer-events-none');
          if (seeMoreBtn) seeMoreBtn.classList.remove('hidden');
          updateTooltipPosition();
        } else {
          tooltip.classList.remove('hidden');
          updateTooltipPosition();
        }
      };

      const hideTooltip = () => {
        if (isMobile) {
          tooltip.classList.add('hidden');
          tooltip.classList.add('pointer-events-none');
          if (seeMoreBtn) seeMoreBtn.classList.add('hidden');
        } else {
          tooltip.classList.add('hidden');
        }
      };

      if (isMobile) {
        link.addEventListener('click', showTooltip);
        // hide tooltip when clicking outside
        document.addEventListener('click', (e) => {
          if (!tooltip.contains(e.target) && !link.contains(e.target)) {
            hideTooltip();
          }
        });
        // update position on scroll
        window.addEventListener('scroll', () => {
          if (!tooltip.classList.contains('hidden')) {
            updateTooltipPosition();
          }
        });
      } else {
        link.addEventListener('mouseenter', showTooltip);
        link.addEventListener('mouseleave', hideTooltip);
      }

      // update position on window resize
      window.addEventListener('resize', () => {
        if (!tooltip.classList.contains('hidden')) {
          updateTooltipPosition();
        }
      });
    });
  }

  bindTooltipListeners();
  document.addEventListener('astro:after-swap', bindTooltipListeners);
  document.addEventListener('astro:page-load', bindTooltipListeners);
</script>

