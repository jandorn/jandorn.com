---
import Layout from "@/layouts/Layout.astro";
import Links from "@/components/Links.astro";
import LayoutWithLinks from "@/layouts/LayoutWithLinks.astro";

const allPosts = await Astro.glob('../pages/blog/*.md');
const title = 'blog';
---

<LayoutWithLinks title={title}>
    
    <div>
      {allPosts.map((post) => {
        const date = new Date(post.frontmatter.pubDate);
        const month = date.toLocaleString('en-US', { month: 'short' });
        const year = `'${date.getFullYear().toString().substr(-2)}`;

        return (
            <div class="mb-2">
                <a class="hover:underline underline-offset-4" href={post.url}>{post.frontmatter.title}</a>
                <div class="flex space-x-1 text-xs text-gray-700">
                  <p>{`${month} ${year}`}</p>
                  <p>â€¢</p>
                  <p>123 views</p>
              </div>
            </div>
        );
      })}
    </div>
  </div>
  
</LayoutWithLinks>
